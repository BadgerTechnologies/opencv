--- a/modules/highgui/src/cap_libv4l.cpp	2011-12-17 14:47:55.000000000 +0900
+++ b/modules/highgui/src/cap_libv4l.cpp	2011-12-17 15:01:48.000000000 +0900
@@ -232,7 +232,9 @@
 #include <unistd.h>
 #include <fcntl.h>
 #include <errno.h>
+#if defined(__linux__)
 #include <sys/types.h>
+#endif
 #include <sys/mman.h>
 #include <string.h>
 #include <stdlib.h>
--- a/modules/highgui/src/cap_v4l.cpp	2011-12-17 14:48:05.000000000 +0900
+++ b/modules/highgui/src/cap_v4l.cpp	2011-12-17 15:01:39.000000000 +0900
@@ -211,7 +211,9 @@
 #include <fcntl.h>
 #include <errno.h>
 #include <sys/ioctl.h>
+#if defined(__linux__)
 #include <sys/types.h>
+#endif
 #include <sys/mman.h>
 
 #include <linux/videodev.h>
